<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>programmers_12936.py</title><meta property="og:type" content="website"/><meta property="og:url" content="https://otkruy.github.io/posts/programmers_12936"/><meta property="og:title" content="programmers_12936.py"/><meta property="og:description" content="algorithm,python,programmers"/><meta property="og:site_name" content="OTKRyu&#x27;s blog"/><meta property="og:locale" content="ko_KR"/><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/58a53d4594040cd4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/58a53d4594040cd4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-f813a7991d8b5eee.js" defer=""></script><script src="/_next/static/chunks/pages/_app-898c436b230de4c1.js" defer=""></script><script src="/_next/static/chunks/664-fe1f0ac1dd157bd4.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-bc41664bccf36379.js" defer=""></script><script src="/_next/static/OPKqKZbWWenyaWUA-Xu9h/_buildManifest.js" defer=""></script><script src="/_next/static/OPKqKZbWWenyaWUA-Xu9h/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="bg-blue-400"><div class="p-5"><nav class="bg-white flex justify-between border rounded my-3"><div class="p-2">OTKRyu</div><div class="flex"><div class="p-2 hover:underline"><a href="/">Home</a></div><div class="p-2 hover:underline"><a href="/posts">Posts</a></div><div class="p-2 hover:underline"><a href="/tags">Tags</a></div><div class="p-2 hover:underline"><a href="/about">About</a></div></div></nav><main><article class="bg-white border rounded my-3 w-full h-full p-5"><h1 class="text-3xl my-3">programmers_12936.py</h1><div class="text-slate-500">Thu Jan 05 2023 20:08:52 GMT+0900 (대한민국 표준시)</div><hr class="my-3"/><div class="prose lg:prose-xl px-2 m-auto my-4 sm:my-16"><h1>programmers_12936.py</h1>
<h2>problem</h2>
<p>줄 서는 방법[https://school.programmers.co.kr/learn/courses/30/lessons/12936]</p>
<h2>answer</h2>
<div><pre><code>def solution(n, k):
    # 팩토리얼 계산용
    facto = [1 for i in range(n+1)]
    for i in range(1, n+1):
        facto[i] = facto[i-1] * i

    # 사용한 숫자 체크용
    check = [1 for i in range(n+1)]
    answer = []

    # 한 자리씩 지나가면서 결정
    # i가 해당하는 자리
    # cnt가 남은 수중 몇번째로 작은 수가 들어갈지
    for i in range(n):
        cnt = 0
        # 들어갈 수 있는 cnt가 얼마인지 알아냄
        while 1:
            if cnt * facto[n-i-1] &#x26;lt; k &#x26;lt;= (cnt + 1) * facto[n-i-1]:
                k -= cnt * facto[n-i-1]
                cnt += 1
                break
            else:
                cnt += 1

        # cnt에 해당하는 작은 순번의 수가 무엇인지 찾아냄
        for i in range(1, len(check)):
            if check[i] == 1:
                cnt -= 1
                if cnt == 0:
                    answer.append(i)
                    check[i] = 0
                    break
    return answer</code></pre></div>
<h2>explanation</h2>
<p>가장 기본적인 접근은 순열을 만들면서 k에 해당하는 순번쯤에서 멈추는 것이다.
파이썬 같은 경우 순열조차 쉽게 생성할 수 있으므로 한번쯤 시도해볼 만한 방법이다.</p>
<div><pre><code>from itertools import permutations</code></pre></div>
<p>다만 당연하게도 실패한다. 순열을 구현해봤다면 순열을 도중에 그만두지 않는다고 할 시 n!만큼의 시간이 걸리기 때문에 문제에서 요구하는 시간 안에는 도저히 해낼 수가 없다.</p>
<p>그렇다면 순열을 만들지 않고 순번만 구하면 된다는 접근을 시도해야한다.</p>
<p>문제의 조건에서 볼 수 있듯이 이 문제에서는 순열을 생성하는데에 순서가 있고,
이를 따라간다는 조건하에 언제쯤 어떤 순열이 나올지를 알 수가 있다.</p>
<p>[1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], [3,2,1]</p>
<p>앞에서부터 한 자리씩 천천히 보면 뒤에 남은 가짓수가 다 떨어지기 전까지는 앞자리가 변하지 않는 것을 볼 수 있다.</p>
<p>즉 첫 번째 자리는 남은 뒤의 자리 2,3번 자리의 경우의 수(2!)가 지나가기 전까지는 바뀌지 않는다.
이를 통해서 주어진 k에 해당할 순열을 좁혀나갈 수 있다.</p>
<p>예시와 함께 살펴보자면, 첫 번째 자리는 2!의 순번동안 유지가 된다.
고로 남은 k에서 2!씩 빼가면서 더 이상 뺄 수 없을 시점에 숫자가 첫 번째 자리를 차지하게된다.
(이 때 2!를 뺐을 때 0이 되는 경우는 현재의 숫자의 순번이 아닌 다음 숫자의 순번이므로 이 점을 주의해야한다)</p>
<p>이 첫 번째 자리에서 해준 방식으로 2번째, 3번째 ... 자리를 확정해주면 된다.
다만 달라지는 점은 이전 자리에서 쓴 숫자는 쓸 수 없기 때문에, 남은 숫자중에서 작은 숫자를 정해주면 된다.(순열 생성 순번이 남은 작은수에서 큰수순으로 진행되기 때문에)</p>
<p>사실 이 문제는 고등학교를 다녔다면 지겹도록 봤을 군수열문제인데, 코드로 생각해보면 어떻게 풀어야할지 한번 고민하게 되는 문제다.</p>
</div></article></main><footer class="bg-white flex justify-center border rounded my-2"><div class="m-2"><a href="mailto:appn12@gmail.com"><img src="/images/email_icon.png" width="30" height="30"/></a></div><div class="m-2"><a href="https://github.com/OTKRyu"><img src="/images/GitHub-Mark-32px.png" width="30" height="30"/></a></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"programmers_12936","postData":{"id":"programmers_12936","contentHtml":"\u003ch1\u003eprogrammers_12936.py\u003c/h1\u003e\n\u003ch2\u003eproblem\u003c/h2\u003e\n\u003cp\u003e줄 서는 방법[https://school.programmers.co.kr/learn/courses/30/lessons/12936]\u003c/p\u003e\n\u003ch2\u003eanswer\u003c/h2\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003edef solution(n, k):\r\n    # 팩토리얼 계산용\r\n    facto = [1 for i in range(n+1)]\r\n    for i in range(1, n+1):\r\n        facto[i] = facto[i-1] * i\r\n\r\n    # 사용한 숫자 체크용\r\n    check = [1 for i in range(n+1)]\r\n    answer = []\r\n\r\n    # 한 자리씩 지나가면서 결정\r\n    # i가 해당하는 자리\r\n    # cnt가 남은 수중 몇번째로 작은 수가 들어갈지\r\n    for i in range(n):\r\n        cnt = 0\r\n        # 들어갈 수 있는 cnt가 얼마인지 알아냄\r\n        while 1:\r\n            if cnt * facto[n-i-1] \u0026#x26;lt; k \u0026#x26;lt;= (cnt + 1) * facto[n-i-1]:\r\n                k -= cnt * facto[n-i-1]\r\n                cnt += 1\r\n                break\r\n            else:\r\n                cnt += 1\r\n\r\n        # cnt에 해당하는 작은 순번의 수가 무엇인지 찾아냄\r\n        for i in range(1, len(check)):\r\n            if check[i] == 1:\r\n                cnt -= 1\r\n                if cnt == 0:\r\n                    answer.append(i)\r\n                    check[i] = 0\r\n                    break\r\n    return answer\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eexplanation\u003c/h2\u003e\n\u003cp\u003e가장 기본적인 접근은 순열을 만들면서 k에 해당하는 순번쯤에서 멈추는 것이다.\r\n파이썬 같은 경우 순열조차 쉽게 생성할 수 있으므로 한번쯤 시도해볼 만한 방법이다.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003efrom itertools import permutations\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e다만 당연하게도 실패한다. 순열을 구현해봤다면 순열을 도중에 그만두지 않는다고 할 시 n!만큼의 시간이 걸리기 때문에 문제에서 요구하는 시간 안에는 도저히 해낼 수가 없다.\u003c/p\u003e\n\u003cp\u003e그렇다면 순열을 만들지 않고 순번만 구하면 된다는 접근을 시도해야한다.\u003c/p\u003e\n\u003cp\u003e문제의 조건에서 볼 수 있듯이 이 문제에서는 순열을 생성하는데에 순서가 있고,\r\n이를 따라간다는 조건하에 언제쯤 어떤 순열이 나올지를 알 수가 있다.\u003c/p\u003e\n\u003cp\u003e[1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], [3,2,1]\u003c/p\u003e\n\u003cp\u003e앞에서부터 한 자리씩 천천히 보면 뒤에 남은 가짓수가 다 떨어지기 전까지는 앞자리가 변하지 않는 것을 볼 수 있다.\u003c/p\u003e\n\u003cp\u003e즉 첫 번째 자리는 남은 뒤의 자리 2,3번 자리의 경우의 수(2!)가 지나가기 전까지는 바뀌지 않는다.\r\n이를 통해서 주어진 k에 해당할 순열을 좁혀나갈 수 있다.\u003c/p\u003e\n\u003cp\u003e예시와 함께 살펴보자면, 첫 번째 자리는 2!의 순번동안 유지가 된다.\r\n고로 남은 k에서 2!씩 빼가면서 더 이상 뺄 수 없을 시점에 숫자가 첫 번째 자리를 차지하게된다.\r\n(이 때 2!를 뺐을 때 0이 되는 경우는 현재의 숫자의 순번이 아닌 다음 숫자의 순번이므로 이 점을 주의해야한다)\u003c/p\u003e\n\u003cp\u003e이 첫 번째 자리에서 해준 방식으로 2번째, 3번째 ... 자리를 확정해주면 된다.\r\n다만 달라지는 점은 이전 자리에서 쓴 숫자는 쓸 수 없기 때문에, 남은 숫자중에서 작은 숫자를 정해주면 된다.(순열 생성 순번이 남은 작은수에서 큰수순으로 진행되기 때문에)\u003c/p\u003e\n\u003cp\u003e사실 이 문제는 고등학교를 다녔다면 지겹도록 봤을 군수열문제인데, 코드로 생각해보면 어떻게 풀어야할지 한번 고민하게 되는 문제다.\u003c/p\u003e\n","title":"programmers_12936.py","date":"2022-09-19","tags":["algorithm","python","programmers"]}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"programmers_12936"},"buildId":"OPKqKZbWWenyaWUA-Xu9h","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>